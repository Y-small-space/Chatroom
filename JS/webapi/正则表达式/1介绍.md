# 正则表达式

## 1.介绍

正则表达式(Regular Expression)是用于匹配宇符串中宇符组合的模式。在Javascript中，正则表达式也是对象

通常用来查找、替换那些符合正则表达式的文本，许多语言都支持正则表达式。

### 1.1什么是正则表达式

* 正则表达式在Javascript中的使用场景：

1. 例如验证表单：用户名表单只能输入英文字母、数字或者下划线，昵称输入框中可以输入中文(匹配)
    * 比如用戸名：/^[a-zO-9_-]{3,16}$/
2. 过滤掉页面内容中的一些敏感词(替换)，或从字符串中获取我们想要的特定部分(提取)等。

### 1.2语法

* 我们想要查找是否有戴眼镜的人，怎么做呢？
    1. 定义规则：戴眼镜的
    2. 根据规则去查找：找到则返回

* Javascript 中定义正则表达式的语法有两种，我们先学习其中比较简单的方法：
    1. **定义正则表达式语法**:

            const 変量名 = /表达式/

        * 其中//是正则表达式字面量
            * 比如：

                    const reg = /前端/

    2. **判断是否有符合规则的字符串**:

        **test()** 方法 用来查看正则表达式与指定的字符串是否匹配

        * 语法：

                regobj.test(被检测的字符串)

        * 比如：

                //要检测的字符串
                const str= 'IT培训，前端开发培训，IT培训课程，web前端培训，Java培训，人工智能培训'
                // 1.定义正则表达式，检测规则
                const reg = /前端/
                // 2. 检测方法
                console.log(reg.test(str)) // true

    3. **检索（查找）符合规则的字符串**：

        exec() 方法 在一个指定字符串中执行一个搜索匹配
        * **语法**:

                regObj.exec(被检测字符串)

        * 比如:

                // 要检测的字符串
                const str ='TT培训，前端开发培训，IT培训课程，web前端培训，Java培训，人工智能培训'
                // 1.定义正则表达式，检测规则
                const reg = /前端/
                // 2.检测方法
                console.log(reg.exec(str))// 返回的是数组

        * 如果匹配成功，exec()方法返回一个数组，否则返回null

### 1.3元字符

    目标：能说出什么是元宇符以及它的好处

* **普通字符**：

    大多数的字符仅能够描述它们本身，这些字符称作普通字符，例如所有的字母和数字。

    也就是说普通字符只能够匹配字符串中与它们相同的宇符。
* **元宇符(特殊宇符)**

    是一些具有特殊含义的宇符，可以极大提高了灵活性和强大的匹配功能。

    1. 比如，规定用户只能输入英文26个英文字母，普通字符的活 abcdefghijklm....
    2. 但是換成元字符写法：[a-z]

* **参考文档**：
  * MDN: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions
  * 正则测试工具：http:1/tool.oschina.net/regex

为了方便记忆和学习，我们对众多的元字符进行了分类：

* 边界符(表示位置，开头和结尾，必须用什么开头，用什么结尾)
* 量词(表示重复次数)
* 字符类(比如\d 表示 0~9)

#### 1.边界符

* 正则表达式中的边界符（位置符）用来提示字符所处的位置，主要有两个字符

|边界符|说明|
|:---:|:-:|
|^|表示匹配行首的文本(以谁开始)|
|$|表示匹配行尾的文本(以谁结束)|

如果^和＄在一起，表示必须是精确匹配。

    console.log(/哈/.test('哈'))//true
    console.1og(/二哈/.test('二哈'))//true
    console.log(/二哈/.test('很二哈哈'))//true

    //^开头
    console.log(/^二哈/.test('很二哈哈'))//false
    console.log(/^二哈/.test('二哈很傻'))//true
    //＄结尾
    console.log(/^二哈＄/.test('二哈很傻'))//false
    console.log(/^二哈＄/.test('二哈二哈'))//false
    console.log(/^二哈＄/.test('二哈'))//true

#### 2.量词

* 量词用来 设定某个模式出现的次数

|量词|说明|
|:-:|:-:|
|*|重复零次或更多次|
|+|重复一次或更多次|
|?|重复零次或一次|
|{n}|重复n次|
|{n,}|重复n次或更多次|
|{n,m}|重复n到m次 |

#### 3.字符类

* []匹配字符集合
  * 后面的宇符串只要包含 abc 中任意一个宇符，都返回 true。

        //只要中括号里面的任意字符出现都返回为true
        console.log(/[abc]/.test('andy'))// true
        console.log(/[abc]/.test('baby'))// true
        console.log(/[abc]/.test('cry'))// true
        console.log(/[abc]/.test('die'))// false

  * 比如：

    [a-z] 表示a到z26个英文字母都可以
    [a-zA-Z] 表示大小写都可以
    [0-9] 表示 0~9 的数字都可以

  * []里面加上^取反符号

    比如：
    * [^a-z]引匹配除了小写字母以外的字符
    * 注意要写到中括号里面
    * . 匹配除换行符之外的任何单个字符

* 预定义：指的是 某些常见模式的简写方式。

|预定类|说明|
|:---:|:----:|
|\d|匹配0-9之间的任一数宇，相当于[1-9]|
|\D|匹配所有0-9以外的字符，相当于[^0-9]|
|\w|匹配任意的字母、数字和下划线，相当于[A-Za-z0-9_]|
|\W|除所有字母、数字和下划线以外的字符，相当于 [^A-Za-z0-9_]|
|\s|匹配空格（包括换行符、制表符、空格符等），相等于[\t\r\n\v\f]
|\S|匹配非空格的字符，相当于 [^\t\r\n\v\f]

日期格式：

    ^\d{4}-\d{1,2}-\d{1,2}

#### 4.修饰符

修饰符约束正则执行的某些细节行为，如是否区分大小写、是否支持多行匹配等

* 语法：

        /表达式/修饰符

    i是单词 ignore 的缩写，正则匹配时字母不区分大小写

    g是单词 global 的缩写，匹配所有满足正则表达式的结果

        console.log(/a/i.test('a')) // true
        console.log(/a/i.test('A')) // true

替换 replace 替换

* 语法：

    字符串.replace(/正则表达式/,'替换的文本')

