<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>构造函数</title>
    <script type="text/javascript">
      /*
       * 创建一个构造函数，专门用来创建Person对象的
       *    构造函数就是一个普通的函数，创建方式和普通函数没有区别，
       *    不同的是构造函数习惯上首字母大写
       *
       *
       * 构造函数和普通函数的不同在调用方式
       *    构造函数调用时需要用new，而普通函数可以直接调用
       *
       * 构造函数的执行流程：
       *  1.立刻创建一个新的对象
       *  2.将新建的对象设置为函数中this，在构造函数中可以使用this来引用新建对象
       *  3.逐行执行函数中的代码
       *  4.将新建的对象作为返回值返回
       *
       * 使用同一个构造函数创建的对象，我们称为一类对象，也将构造函数称为一个类
       *    我们将通过一个构造函数创建的对象，称为该类的实例
       *
       * this的情况：
       *    1·当以函数的方式调用时，this是window
       *    2·当以方法的形式调用时，谁调用就是谁
       *    3·当以构造函数的形式调用时，this就是该新建的对象
       */





      /*function person(name, age, gender) {
        this.name = name;
        this.age = age;
        this.gender = gender;
        this.sayName = function () {
          alert(this.name);
        };
      }
        这段代码缺陷就在，每执行一次代码，都会创建一个新的sayName
      */
      //对上面代码进行优化
      function person(name, age, gender) {
          this.name = name;
          this.age = age;
          this.gender = gender;
          this.sayName = fun;
      }
      function fun(){
          alert(this.name);
      };


      var per = new person("aa",17,"boy");
      var per2 = new person("bb",18,"boy");

      console.log(per);
      per.sayName();
      function Dog() {

      }
      var dog = new Dog();
      console.log(dog);

      /*
       * 使用instanceof可以检查一个对象是否是一个类的实例
       *    语法：
       *        对象 instanceof 构造函数
       */
      console.log(per instanceof person);


      /*
       * 所有对象都是Object的后代
       *    所以任何对象和Object做instanceof都是true
       */

      console.log(person instanceof Object);
      console.log(dog instanceof Object);


    </script>
</head>
<body>

</body>
</html>