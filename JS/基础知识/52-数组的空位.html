<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>数组的空位</title>
    <script type="text/javascript">
      // 当数组的某个位置是空元素，即两个逗号之间没有任何值，我们称该数组存在空位（hole）

      var a = [1, , 1];
      console.log(a.length);

      // 上面代码表明，数组的空位不影响length属性。
      // 需要注意的是，如果最后一个元素后面有逗号，并不会产生空位。
      // 也就是说，有没有这个逗号，结果都是一样的

      console.log(a[1]);
      //数组的空位是可以读取的，返回undefined

      //使用delete命令删除一个数组成员，会形成空位，并且不会影响length属性。
      delete a[0];
      console.log(a);
      console.log(a.length);
      /*
       * 上面代码用delete命令删除了数组的第二个元素，这个位置就形成了空位，但是对length属性没有影响。
       * 也就是说，length属性不过滤空位。
       * 所以，使用length属性进行数组遍历，一定要非常小心。
       *
       * 数组的某个位置是空位，与某个位置是undefined，是不一样的。
       * 如果是空位，使用数组的forEach方法、for...in结构、以及Object.keys方法进行遍历，空位都会被跳过。
       */
      var b = [, , ,];

      b.forEach(function (x, i) {
        console.log(i + '. ' + x);
      })

      for (var i in b) {
        console.log(i);
      }

      Object.keys(b);

      //如果某个位置是undefined，遍历的时候就不会被跳过。
      var c = [undefined, undefined, undefined];

      c.forEach(function (x, i) {
        console.log(i + '. ' + x);
      });

      for (var i in c) {
        console.log(i);
      }

      Object.keys(c);

      //这就是说，空位就是数组没有这个元素，所以不会被遍历到，而undefined则表示数组有这个元素，值是undefined，所以遍历不会跳过。

    </script>
</head>
<body>

</body>
</html>