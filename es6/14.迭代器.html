<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>迭代器</title>
</head>
<body>
    <script>
        /*
        迭代器 (lterator）是一种接面，为各种不同的数据结构提供统一的访问机制。
        任何数据结构只要部署 lterator 接口，就可以完成遍历操作。
        1)ES6 创造了一种新的遍历命令for..of 循环，lterator 接口主要供 for..of 消费
        2)原生具备iterator 接口的数据(可用for of 遍历)
            a) Array
            b) Arguments
            C) Set
            d) Map
            e) String
            f) TypedArray
            g) Nodelist
        3)工作原理
            a)创建一个指针对象，指向当前数据结构的起始位罝
            b)第一次调用对象的next 方法，指针自动指向数据结构的第一个成员
            C)按下来不断调用 next 方法，指针一直往后移动，直到指向最后一个成员
        */
        /*
        //声明一个数组
        const xiyou = ['a','b','c','d'];

        //使用for...of遍历数组
        //for (let v of xiyou){
        //    console.log(v)
        //}

        let iterator = xiyou[Symbol.iterator]();


        //调用对象的next方法
        console.log(iterator.next());
        console.log(iterator.next());
        console.log(iterator.next());
        console.log(iterator.next());
        console.log(iterator.next());
            */
        const zifu = {
            name : 'zifu',

            stus : [
                'a',
                'b',
                'c',
                'd'        
            ],

            [Symbol.iterator](){
                //索引变量
                let index = 0;
                //
                let _this = this;
                return {
                    next : function(){
                        if (index < _this.stus.length){
                            const result = {value : _this.stus[index],done:false};
                            //下标递增
                            index++;
                            return result;
                        }else{
                            return{value:undefined,done : true};
                        }
                    }

                }
            }
        }
        for (let v of zifu){
            console.log(v)
        }
    </script>
</body>
</html>