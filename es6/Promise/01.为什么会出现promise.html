<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn">发送ajax请求</button>
    <script>
        // 1. 获取按钮元素
        let btn = document.querySelector('#btn');
        // 2. 设置点击事件
        btn.onclick = function () {
            // 3. 创建ajax实例化对象
            let xhr = new XMLHttpRequest();
            // 4. 打开请求
            xhr.open('get', 'http://iwenwiki.com/api/blueberrypai/getChengpinInfo.php"');
            // 5. 发送请求（send方法中发送的是请求体的数据，只不过get请求是没有请求体的，而post请求才有请求体）
            xhr.send();
            // 6. 客户端接收服务端中响应回来的结果数据
            xhr.onreadystatechange = function () {
                /**
                 * 2: 已经完成了请求的发送
                 * 3: 响应结果途中还没有完全响应结果完毕...ing
                 * 4: 已经完全响应结果玩了
                */
                // console.log('', xhr.readyState)

                // 7. 判断
                if (xhr.readyState === 4) {
                    // status:请求的状态码 200～299之间
                    if (xhr.status >= 200 && xhr.status < 300) {
                        // 8. 获取请求体数据(JSON字符串=>JSON对象)
                        console.log(JSON.parse(xhr.responseText))
                    }
                }
            }
        }

    </script>
</body>

</html>